{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\End\\\\app\\\\screens\\\\ListingsScreen.js\";\nimport React, { useEffect, useState } from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { firebase } from \"../config/firebase\";\nimport Card from \"../components/Card\";\nimport colors from \"../config/colors\";\nimport routes from \"../navigation/routes\";\nimport Screen from \"../components/Screen\";\nfunction ListingsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var dataRef = firebase.firestore().collection(\"listing\");\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    listings = _useState2[0],\n    setListing = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var getData = function getData() {\n    dataRef.onSnapshot(function (querySnapshot) {\n      var data = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          images = _doc$data.images,\n          price = _doc$data.price,\n          title = _doc$data.title;\n        data.push({\n          id: doc.id,\n          images: images,\n          price: price,\n          title: title\n        });\n      });\n      setListing(data);\n      if (!listings) setError(true);\n    });\n  };\n  console.log(error);\n  useEffect(function () {\n    getData();\n  }, []);\n  console.log(\"muzilhassan\");\n  return React.createElement(Screen, {\n    style: styles.screen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, error && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"Couldnt retrive data from the server please try again\")), React.createElement(ActivityIndicator, {\n    animating: isLoading,\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    data: listings,\n    keyExtractor: function keyExtractor(listing) {\n      return listing.id.toString();\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(Card, {\n        title: item.title,\n        subTitle: \"$\" + item.price,\n        image: item.images[0],\n        onPress: function onPress() {\n          return navigation.navigate(routes.LISTING_DETAILS, item);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  screen: {\n    padding: 20,\n    backgroundColor: colors.light\n  }\n});\nexport default ListingsScreen;","map":{"version":3,"names":["React","useEffect","useState","firebase","Card","colors","routes","Screen","ListingsScreen","navigation","dataRef","firestore","collection","listings","setListing","isLoading","setLoading","error","setError","getData","onSnapshot","querySnapshot","data","forEach","doc","images","price","title","push","id","console","log","styles","screen","listing","toString","item","navigate","LISTING_DETAILS","StyleSheet","create","padding","backgroundColor","light"],"sources":["C:/Users/HP/OneDrive/Desktop/End/app/screens/ListingsScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { ActivityIndicator, FlatList, StyleSheet } from \"react-native\";\nimport { firebase } from \"../config/firebase\";\nimport Card from \"../components/Card\";\nimport colors from \"../config/colors\";\nimport routes from \"../navigation/routes\";\nimport Screen from \"../components/Screen\";\n\nfunction ListingsScreen({ navigation }) {\n  const dataRef = firebase.firestore().collection(\"listing\");\n  const [listings, setListing] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const getData = () => {\n    dataRef.onSnapshot((querySnapshot) => {\n      const data = [];\n\n      querySnapshot.forEach((doc) => {\n        const { images, price, title } = doc.data();\n        data.push({\n          id: doc.id,\n          images,\n          price,\n          title,\n        });\n      });\n      setListing(data);\n      if (!listings) setError(true);\n    });\n  };\n  console.log(error);\n  useEffect(() => {\n    getData();\n  }, []);\n  console.log(\"muzilhassan\");\n  return (\n    <Screen style={styles.screen}>\n      {error && (\n        <>\n          <Text>Couldnt retrive data from the server please try again</Text>\n        </>\n      )}\n      <ActivityIndicator animating={isLoading} size=\"large\" />\n      <FlatList\n        data={listings}\n        keyExtractor={(listing) => listing.id.toString()}\n        renderItem={({ item }) => (\n          <Card\n            title={item.title}\n            subTitle={\"$\" + item.price}\n            image={item.images[0]}\n            onPress={() => navigation.navigate(routes.LISTING_DETAILS, item)}\n          />\n        )}\n      />\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  screen: {\n    padding: 20,\n    backgroundColor: colors.light,\n  },\n});\n\nexport default ListingsScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}