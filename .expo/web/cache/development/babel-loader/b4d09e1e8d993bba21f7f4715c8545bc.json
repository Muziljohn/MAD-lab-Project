{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _Card = _interopRequireDefault(require(\"../components/Card\"));\nvar _compat = _interopRequireDefault(require(\"firebase/compat\"));\nvar _AuthContext = _interopRequireDefault(require(\"../context/AuthContext\"));\nvar _reactNative = require(\"react-native\");\nvar _this = this,\n  _jsxFileName = \"D:\\\\End\\\\app\\\\screens\\\\MyListings.js\";\nvar MyListings = function MyListings(props) {\n  var dataRef = _compat.default.firestore().collection(\"listing\");\n  var _useState = useState([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    listings = _useState2[0],\n    setListing = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    isLoading = _useState4[0],\n    setLoading = _useState4[1];\n  var getData = function getData() {\n    dataRef.onSnapshot(function (querySnapshot) {\n      var data = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          images = _doc$data.images,\n          price = _doc$data.price,\n          title = _doc$data.title,\n          user = _doc$data.user;\n        data.push({\n          id: doc.id,\n          images: images,\n          price: price,\n          title: title\n        });\n      });\n      setListing(data);\n      setLoading(false);\n    });\n  };\n  useEffect(function () {\n    setLoading(true);\n    getData();\n  }, []);\n  return _react.default.createElement(_react.default.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.ActivityIndicator, {\n    animating: isLoading,\n    size: \"large\",\n    color: \"#fc5c65\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), listings.map(function (item) {\n    if (_AuthContext.default.user == item.user) {\n      return _react.default.createElement(_Card.default, {\n        title: item.title,\n        subTitle: \"$\" + item.price,\n        image: item.images[0],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }\n      });\n    }\n  }));\n};\nvar _default = MyListings;\nexports.default = _default;","map":{"version":3,"names":["MyListings","props","dataRef","firebase","firestore","collection","useState","listings","setListing","isLoading","setLoading","getData","onSnapshot","querySnapshot","data","forEach","doc","images","price","title","user","push","id","useEffect","map","item","AuthContext"],"sources":["D:/End/app/screens/MyListings.js"],"sourcesContent":["import React from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport firebase from \"firebase/compat\";\r\nimport AuthContext from \"../context/AuthContext\";\r\nimport { ActivityIndicator } from \"react-native\";\r\nconst MyListings = (props) => {\r\n  const dataRef = firebase.firestore().collection(\"listing\");\r\n  const [listings, setListing] = useState([]);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const getData = () => {\r\n    dataRef.onSnapshot((querySnapshot) => {\r\n      const data = [];\r\n\r\n      querySnapshot.forEach((doc) => {\r\n        const { images, price, title, user } = doc.data();\r\n        data.push({\r\n          id: doc.id,\r\n          images,\r\n          price,\r\n          title,\r\n        });\r\n      });\r\n\r\n      setListing(data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getData();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <ActivityIndicator animating={isLoading} size=\"large\" color={\"#fc5c65\"} />\r\n      {listings.map((item) => {\r\n        if (AuthContext.user == item.user) {\r\n          return (\r\n            <Card\r\n              title={item.title}\r\n              subTitle={\"$\" + item.price}\r\n              image={item.images[0]}\r\n            />\r\n          );\r\n        }\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyListings;\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AAAiD;EAAA;AACjD,IAAMA,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAK,EAAK;EAC5B,IAAMC,OAAO,GAAGC,eAAQ,CAACC,SAAS,EAAE,CAACC,UAAU,CAAC,SAAS,CAAC;EAC1D,gBAA+BC,QAAQ,CAAC,EAAE,CAAC;IAAA;IAApCC,QAAQ;IAAEC,UAAU;EAC3B,iBAAgCF,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAxCG,SAAS;IAAEC,UAAU;EAE5B,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;IACpBT,OAAO,CAACU,UAAU,CAAC,UAACC,aAAa,EAAK;MACpC,IAAMC,IAAI,GAAG,EAAE;MAEfD,aAAa,CAACE,OAAO,CAAC,UAACC,GAAG,EAAK;QAC7B,gBAAuCA,GAAG,CAACF,IAAI,EAAE;UAAzCG,MAAM,aAANA,MAAM;UAAEC,KAAK,aAALA,KAAK;UAAEC,KAAK,aAALA,KAAK;UAAEC,IAAI,aAAJA,IAAI;QAClCN,IAAI,CAACO,IAAI,CAAC;UACRC,EAAE,EAAEN,GAAG,CAACM,EAAE;UACVL,MAAM,EAANA,MAAM;UACNC,KAAK,EAALA,KAAK;UACLC,KAAK,EAALA;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MAEFX,UAAU,CAACM,IAAI,CAAC;MAChBJ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC;EACDa,SAAS,CAAC,YAAM;IACdb,UAAU,CAAC,IAAI,CAAC;IAChBC,OAAO,EAAE;EACX,CAAC,EAAE,EAAE,CAAC;EACN,OACE;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,6BAAC,8BAAiB;IAAC,SAAS,EAAEF,SAAU;IAAC,IAAI,EAAC,OAAO;IAAC,KAAK,EAAE,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EACzEF,QAAQ,CAACiB,GAAG,CAAC,UAACC,IAAI,EAAK;IACtB,IAAIC,oBAAW,CAACN,IAAI,IAAIK,IAAI,CAACL,IAAI,EAAE;MACjC,OACE,6BAAC,aAAI;QACH,KAAK,EAAEK,IAAI,CAACN,KAAM;QAClB,QAAQ,EAAE,GAAG,GAAGM,IAAI,CAACP,KAAM;QAC3B,KAAK,EAAEO,IAAI,CAACR,MAAM,CAAC,CAAC,CAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACtB;IAEN;EACF,CAAC,CAAC,CACD;AAEP,CAAC;AAAC,eAEajB,UAAU;AAAA"},"metadata":{},"sourceType":"script"}